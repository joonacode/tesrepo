(function(e){function t(t){for(var s,n,r=t[0],c=t[1],l=t[2],u=0,m=[];u<r.length;u++)n=r[u],Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&m.push(i[n][0]),i[n]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);d&&d(t);while(m.length)m.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],s=!0,n=1;n<a.length;n++){var r=a[n];0!==i[r]&&(s=!1)}s&&(o.splice(t--,1),e=c(c.s=a[0]))}return e}var s={},n={app:0},i={app:0},o=[];function r(e){return c.p+"js/"+({}[e]||e)+"."+{"chunk-294bd464":"8d78c8f1","chunk-2d21d044":"3d0abe70","chunk-de3686b6":"3f11068d"}[e]+".js"}function c(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.e=function(e){var t=[],a={"chunk-de3686b6":1};n[e]?t.push(n[e]):0!==n[e]&&a[e]&&t.push(n[e]=new Promise((function(t,a){for(var s="css/"+({}[e]||e)+"."+{"chunk-294bd464":"31d6cfe0","chunk-2d21d044":"31d6cfe0","chunk-de3686b6":"88530d07"}[e]+".css",i=c.p+s,o=document.getElementsByTagName("link"),r=0;r<o.length;r++){var l=o[r],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===s||u===i))return t()}var m=document.getElementsByTagName("style");for(r=0;r<m.length;r++){l=m[r],u=l.getAttribute("data-href");if(u===s||u===i)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var s=t&&t.target&&t.target.src||i,o=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=s,delete n[e],d.parentNode.removeChild(d),a(o)},d.href=i;var g=document.getElementsByTagName("head")[0];g.appendChild(d)})).then((function(){n[e]=0})));var s=i[e];if(0!==s)if(s)t.push(s[2]);else{var o=new Promise((function(t,a){s=i[e]=[t,a]}));t.push(s[2]=o);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=r(e);var m=new Error;l=function(t){u.onerror=u.onload=null,clearTimeout(d);var a=i[e];if(0!==a){if(a){var s=t&&("load"===t.type?"missing":t.type),n=t&&t.target&&t.target.src;m.message="Loading chunk "+e+" failed.\n("+s+": "+n+")",m.name="ChunkLoadError",m.type=s,m.request=n,a[1](m)}i[e]=void 0}};var d=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(t)},c.m=e,c.c=s,c.d=function(e,t,a){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)c.d(a,s,function(t){return e[t]}.bind(null,s));return a},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var m=0;m<l.length;m++)t(l[m]);var d=u;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"011f":function(e,t,a){},"041c":function(e,t,a){},"0a1e":function(e,t,a){"use strict";var s=a("f420"),n=a.n(s);n.a},1:function(e,t){},"1f56":function(e,t,a){"use strict";var s=a("83c4"),n=a.n(s);n.a},"2bad":function(e,t,a){"use strict";var s=a("6914"),n=a.n(s);n.a},"30fe":function(e,t,a){"use strict";var s=a("011f"),n=a.n(s);n.a},3390:function(e,t,a){"use strict";var s=a("a830"),n=a.n(s);n.a},3826:function(e,t,a){},"3dd1":function(e,t,a){},"407a":function(e,t,a){"use strict";var s=a("041c"),n=a.n(s);n.a},4758:function(e,t,a){},4967:function(e,t,a){"use strict";var s=a("f00b"),n=a.n(s);n.a},5162:function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},i=[],o=a("2877"),r={},c=Object(o["a"])(r,n,i,!1,null,null,null),l=c.exports,u=(a("45fc"),a("8c4f")),m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("CardAuth",{attrs:{title:"Login",description:"Hi, Welcome back!"},scopedSlots:e._u([{key:"body",fn:function(){return[a("form",{on:{submit:function(t){return t.preventDefault(),e.loginAction(t)}}},[a("div",{staticClass:"form-group-auth"},[a("label",[e._v("Email")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"form-control",attrs:{type:"text",name:"email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),a("div",{staticClass:"form-group-auth"},[a("label",[e._v("Password")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",name:"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),a("router-link",{staticClass:"float-right font-14 my-2 text-decoration-none",attrs:{to:{name:"ForgotPassword"}}},[e._v("Forgot Password ?")]),a("div",{staticClass:"clearfix"}),a("g-button",{staticClass:"btn btn-lb btn-block mt-3 p-auth rounded-pill",attrs:{type:"submit",isLoading:e.getLoading}},[e._v("Login")]),a("div",{staticClass:"log-with my-4 border-bottom text-center position-relative"},[a("span",{staticClass:"bg-white p-3 font-13"},[e._v("Login With")])]),a("button",{staticClass:"btn btn-outline-lb btn-block p-auth rounded-pill d-flex align-items-center justify-content-center",attrs:{type:"button"}},[a("g-image",{staticClass:"mr-2",attrs:{url:"icon/google.svg"}}),e._v("Google ")],1),a("p",{staticClass:"text-center mt-4 mb-0 font-14"},[e._v(" Don’t have an account? "),a("router-link",{attrs:{to:{name:"Register"}}},[e._v("Sign Up")])],1)],1)]},proxy:!0}])})},d=[],g=(a("d3b7"),a("25f0"),a("5530")),f=a("2f62"),p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"auth"}},[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-5 col-md-8 col-sm-12 mx-auto"},[a("div",{staticClass:"card border-0"},[a("div",{staticClass:"card-body px-5 py-4"},[e.needBack?a("router-link",{attrs:{to:{name:"Login"}}},[a("g-image",{staticClass:"back-icon",attrs:{url:"icon/back.svg"}})],1):e._e(),a("div",{staticClass:"card-title"},[e._v(e._s(e.title))]),a("p",{staticClass:"card-description mb-4"},[e._v(e._s(e.description))]),e._t("body")],2)])])])])])},h=[],v={props:{description:String,title:String,needBack:{type:Boolean,default:!1}}},b=v,_=(a("4967"),Object(o["a"])(b,p,h,!1,null,"2f51df52",null)),C=_.exports,y={components:{CardAuth:C},data:function(){return{email:"",password:""}},methods:Object(g["a"])(Object(g["a"])(Object(g["a"])({},Object(f["b"])("auth",["login"])),Object(f["b"])("user",["updateLocation","updateStatusOnline"])),{},{loginAction:function(){var e=this,t={email:this.email,password:this.password};this.login(t).then((function(t){e.updateStatusOnline({idUser:t.results.idUser,status:!0}),e.$toast.success("Login success");var a=Math.random().toString(36).substring(7);e.$router.push({name:"Home",params:{id:a,email:e.email}}),e.email="",e.password=""})).catch((function(t){e.$toast.error(t.data.message),e.password=""}))}}),computed:Object(g["a"])({},Object(f["c"])(["getLoading"]))},P=y,w=Object(o["a"])(P,m,d,!1,null,"dae798b0",null),O=w.exports,j=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("CardAuth",{attrs:{title:"Register",needBack:"",description:"Let’s create your account!"},scopedSlots:e._u([{key:"body",fn:function(){return[a("form",{on:{submit:function(t){return t.preventDefault(),e.registerAction(t)}}},[a("div",{staticClass:"form-group-auth"},[a("label",[e._v("Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text",name:"name"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})]),a("div",{staticClass:"form-group-auth"},[a("label",[e._v("Email")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"form-control",attrs:{type:"text",name:"email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),a("div",{staticClass:"form-group-auth"},[a("label",[e._v("Password")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",name:"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),a("g-button",{staticClass:"btn-lb btn-block mt-4 p-auth rounded-pill",attrs:{type:"submit",isLoading:e.getLoading}},[e._v("Register")]),a("div",{staticClass:"log-with my-4 border-bottom text-center position-relative"},[a("span",{staticClass:"bg-white p-3 font-13"},[e._v("Register With")])]),a("button",{staticClass:"btn btn-outline-lb btn-block p-auth rounded-pill d-flex align-items-center justify-content-center",attrs:{type:"button"}},[a("g-image",{staticClass:"mr-2",attrs:{url:"icon/google.svg"}}),e._v("Google ")],1)],1)]},proxy:!0}])})},R=[],M=(a("b0c0"),{data:function(){return{name:"",email:"",password:""}},components:{CardAuth:C},methods:Object(g["a"])(Object(g["a"])({},Object(f["b"])("auth",["register"])),{},{registerAction:function(){var e=this,t={name:this.name,email:this.email,password:this.password};this.register(t).then((function(t){e.$toast.success("Register successfully, please check you email!"),e.name="",e.email="",e.password="",e.$router.push({name:"Login"})})).catch((function(t){e.$toast.error(t.data.message),e.password=""}))}}),computed:Object(g["a"])({},Object(f["c"])(["getLoading"]))}),k=M,F=Object(o["a"])(k,j,R,!1,null,"74d4e5fd",null),U=F.exports,L=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("CardAuth",{attrs:{title:"Forgot Password",needBack:"",description:"You’ll get messages soon on your e-mail "},scopedSlots:e._u([{key:"body",fn:function(){return[a("form",{on:{submit:function(t){return t.preventDefault(),e.forgotPasswordActions(t)}}},[a("div",{staticClass:"form-group-auth"},[a("label",[e._v("Email")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"form-control",attrs:{type:"text",name:"email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),a("g-button",{staticClass:"btn btn-lb btn-block mt-4 p-auth rounded-pill",attrs:{isLoading:e.getLoading,type:"submit"}},[e._v("Send")])],1)]},proxy:!0}])})},D=[],x={components:{CardAuth:C},data:function(){return{email:""}},methods:Object(g["a"])(Object(g["a"])({},Object(f["b"])("auth",["forgotPassword"])),{},{forgotPasswordActions:function(){var e=this;this.forgotPassword({email:this.email}).then((function(t){e.$toast.success(t.message),e.email="",e.$router.push({name:"Login"})})).catch((function(t){e.$toast.error(t.data.message),e.email=""}))}}),computed:Object(g["a"])({},Object(f["c"])(["getLoading"]))},I=x,N=Object(o["a"])(I,L,D,!1,null,"7baa4554",null),E=N.exports,S=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span")},$=[],T={methods:Object(g["a"])({},Object(f["b"])("auth",["activateAccount"])),mounted:function(){var e=this,t=this.$route.query.token;this.activateAccount({token:t}).then((function(t){e.$toast.success(t.message),e.$router.push({name:"Login"})})).catch((function(t){e.$toast.error(t.data.message),e.$router.push({name:"Login"})}))},computed:Object(f["d"])(["socket"])},A=T,q=Object(o["a"])(A,S,$,!1,null,null,null),G=q.exports,B=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("CardAuth",{attrs:{title:"Reset Password",description:"Please reset your password!"},scopedSlots:e._u([{key:"body",fn:function(){return[a("form",{on:{submit:function(t){return t.preventDefault(),e.resetAction(t)}}},[a("div",{staticClass:"form-group-auth"},[a("label",[e._v("New Password")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newPassword,expression:"newPassword"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:e.newPassword},on:{input:function(t){t.target.composing||(e.newPassword=t.target.value)}}})]),a("div",{staticClass:"form-group-auth"},[a("label",[e._v("Confirm New Password")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.confirmPassword,expression:"confirmPassword"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:e.confirmPassword},on:{input:function(t){t.target.composing||(e.confirmPassword=t.target.value)}}})]),a("g-button",{staticClass:"btn btn-lb btn-block mt-3 p-auth rounded-pill",attrs:{type:"submit",isLoading:e.getLoading}},[e._v("Reset Password")])],1)]},proxy:!0}])})},H=[],z={components:{CardAuth:C},data:function(){return{newPassword:"",confirmPassword:""}},methods:Object(g["a"])(Object(g["a"])({},Object(f["b"])("auth",["verifyResetPassword","resetPassword"])),{},{resetAction:function(){var e=this;if(this.newPassword)if(this.confirmPassword)if(this.newPassword.length<6)this.$toast.error("New password min 6 character");else if(this.newPassword!==this.confirmPassword)this.$toast.error("New password with password confirmation is not the same");else{var t=this.$route.query.token;this.resetPassword({token:t,password:this.newPassword}).then((function(t){e.$toast.success(t.message),e.$router.push({name:"Login"})})).catch((function(t){e.$toast.error(t.data.message),e.newPassword="",e.confirmPassword=""}))}else this.$toast.error("Confirm new password required");else this.$toast.error("New password required")}}),mounted:function(){var e=this,t=this.$route.query.token;this.verifyResetPassword({token:t}).then((function(t){e.$toast.success("Token OK")})).catch((function(t){e.$toast.error(t.data.message),e.$router.push({name:"Login"})}))},computed:Object(g["a"])({},Object(f["c"])(["getLoading"]))},V=z,W=Object(o["a"])(V,B,H,!1,null,"ddb1172c",null),Y=W.exports,K=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("router-view")],1)},Q=[],J=(a("99af"),a("d81d"),{methods:Object(g["a"])(Object(g["a"])(Object(g["a"])(Object(g["a"])({},Object(f["b"])("auth",["interceptorsRequest","interceptorsResponse"])),Object(f["b"])("room",["allMyRoom","detailRoomImage","detailRoomDocument"])),Object(f["b"])("user",["detailUser","listUser","updateLocation","selectPrivateMessage"])),Object(f["b"])("friend",["listFriend","listUserNotFriend","listPendingFriend","listRequestFriend","listRefuseFriend"])),mounted:function(){var e=this;this.$getLocation().then((function(t){e.updateLocation({location:{lat:t.lat,lng:t.lng}})})),this.interceptorsRequest(),this.interceptorsResponse(),this.listUser(),this.detailUser(),this.allMyRoom().then((function(t){var a=t.results.map((function(e){return e._id}));e.socket.emit("tesjoin",a)})),this.listFriend(),this.socket.on("notifSendFriend",(function(t){e.getDetailUser._id===t.receiver&&(e.$toast.info("".concat(t.nameSender," want to be your friend")),e.listRequestFriend())})),this.socket.on("notifAccFriend",(function(t){e.getDetailUser._id===t.receiver&&(e.$toast.info("".concat(t.nameSender," accepts your friendship")),e.listFriend(),e.listPendingFriend())})),this.socket.on("notifRefuseFriend",(function(t){e.getDetailUser._id===t.receiver&&(e.$toast.error("Friend request rejected by ".concat(t.nameSender," ")),e.listFriend(),e.listPendingFriend(),e.listRefuseFriend())})),this.socket.on("notifDeleteFriend",(function(t){e.getDetailUser._id===t.receiver&&(e.listFriend(),e.listPendingFriend())})),this.socket.on("notifinviteFriend",(function(t){e.getDetailUser._id===t.receiver&&(e.$toast.info("".concat(t.nameSender," telah menambahkan anda ke grup ").concat(t.groupName)),e.allMyRoom().then((function(t){var a=t.results.map((function(e){return e._id}));e.socket.emit("tesjoin",a)}))),e.getPrivateMessage._id===t.room&&e.selectPrivateMessage(t.myRoom)})),this.socket.on("notifCreatePrivate",(function(t){e.getDetailUser._id===t.receiver&&(e.$toast.info("".concat(t.nameSender," memulai obrolan dengan anda")),e.allMyRoom().then((function(t){var a=t.results.map((function(e){return e._id}));e.socket.emit("tesjoin",a)})))})),this.socket.on("sendMessageHandle",(function(t){e.getPrivateMessage._id===t.room&&(e.selectPrivateMessage(t.myRoom),e.detailRoomImage(t.room),e.detailRoomDocument(t.room)),e.allMyRoom()})),this.socket.on("notifPesan",(function(t){e.$toast.info(t)}))},computed:Object(g["a"])(Object(g["a"])(Object(g["a"])({},Object(f["d"])("user",["user"])),Object(f["d"])(["socket"])),Object(f["c"])("user",["getDetailUser","getPrivateMessage"]))}),Z=J,X=Object(o["a"])(Z,K,Q,!1,null,"6e20e486",null),ee=X.exports,te=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-4 col-md-5 bg-white px-4 max-vh-100 overflow-auto"},[a("LeftSidebar",{class:[e.getPrivateMessage.roomName?"mobile":""]})],1),e.getPrivateMessage.roomName?e._e():a("ChatEmpty"),e.getPrivateMessage.roomName?a("ChatSection",{on:{"mobile-icon":e.handleMobile}}):e._e()],1)])},ae=[],se=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("NavbarLeft",{attrs:{newTab:e.newTab}}),a("div",{staticClass:"sticky-top bg-white pt-4 pb-2"},[a("SearchSidebar",{on:{"show-tab":e.showNewTab}}),a("MenuList")],1),a("div",{staticClass:"chat-list"},["Friends"!==e.currentRouteName&&"Users"!==e.currentRouteName?a("div",[e.listFilter.length>0?a("div",e._l(e.listFilter,(function(t){return a("ContactItem",{key:t._id,attrs:{room:t},on:{"select-room":e.selectRoom}})})),1):e._e(),0===e.listFilter.length?a("p",{staticClass:"text-center text-danger font-18 font-weight-bold"},[e._v(" Chat not found ")]):e._e()]):e._e(),"Friends"===e.currentRouteName?a("div",[e.pendingFriend.length>0?a("div",{staticClass:"border-bottom mb-3"},[a("p",[e._v("Pending")]),e._l(e.pendingFriend,(function(e){return a("ContactFriend",{key:e._id,attrs:{pending:!0,room:e}})}))],2):e._e(),e.requestFriend.length>0?a("div",{staticClass:"border-bottom mb-3"},[a("p",[e._v("Friend Request")]),e._l(e.requestFriend,(function(e){return a("ContactFriend",{key:e._id,attrs:{request:!0,room:e}})}))],2):e._e(),e.refuseFriend.length>0?a("div",{staticClass:"border-bottom mb-3"},[a("p",[e._v("Rejected")]),e._l(e.refuseFriend,(function(e){return a("ContactFriend",{key:e._id,attrs:{refuse:!0,room:e}})}))],2):e._e(),e._l(e.listFilter,(function(t){return a("ContactFriend",{key:t._id,attrs:{room:t},on:{"select-room":e.selectRoomFriends}})}))],2):e._e(),"Users"===e.currentRouteName?a("div",e._l(e.listFilter,(function(e){return a("ContactUser",{key:e._id,attrs:{room:e}})})),1):e._e()])],1)},ne=[],ie=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"message-by mb-4 d-flex overflow-auto py-2 align-items-center"},e._l(e.menus,(function(t,s){return a("div",{key:s},[a("router-link",{staticClass:"d-inline-block btn rounded-pill mr-2",class:[e.currentRouteName===t.name?"btn-lb":""],attrs:{to:{name:t.name}},nativeOn:{click:function(a){return e.handleNavigate(t)}}},[e._v(e._s(t.name))])],1)})),0)},oe=[],re={data:function(){return{menus:[{name:"Dashboard",status:!1},{name:"Private",status:!1},{name:"Group",status:!1},{name:"Friends",status:!1},{name:"Users",status:!1}]}},methods:Object(g["a"])(Object(g["a"])(Object(g["a"])(Object(g["a"])({},Object(f["b"])("user",["selectPrivateMessage"])),Object(f["b"])("room",["myPrivateRoom","myGroupRoom","allMyRoom","findRoom","createPrivateRoom"])),Object(f["b"])("friend",["listFriend","listUserNotFriend","listPendingFriend","listRequestFriend","listRefuseFriend"])),{},{handleNavigate:function(e){"Dashboard"===e.name?this.allMyRoom():"Private"===e.name?this.myPrivateRoom():"Group"===e.name?this.myGroupRoom():"Friends"===e.name?(this.listPendingFriend(),this.listRequestFriend(),this.listRefuseFriend()):"Users"===e.name&&this.listUserNotFriend()}}),computed:{currentRouteName:function(){return this.$route.name}}},ce=re,le=(a("2bad"),Object(o["a"])(ce,ie,oe,!1,null,"bb591828",null)),ue=le.exports,me=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"sidebar-search mb-4"},[a("div",{staticClass:"input-group mb-3"},[a("g-image",{staticClass:"search-icon",attrs:{url:"icon/search.svg",width:"20"}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],staticClass:"form-control font-15 rounded-pill border-0 bg-light",attrs:{type:"text",placeholder:"Search chat"},domProps:{value:e.search},on:{keyup:e.searchHandle,input:function(t){t.target.composing||(e.search=t.target.value)}}}),a("div",{staticClass:"input-group-append"},[a("button",{staticClass:"btn no-focus",attrs:{type:"button"},on:{click:function(t){return e.$emit("show-tab")}}},[a("g-image",{attrs:{url:"icon/plus.svg"}})],1)])],1)])},de=[],ge=(a("ac1f"),a("841c"),{data:function(){return{search:""}},methods:Object(g["a"])(Object(g["a"])({},Object(f["b"])("room",["searchMyRoom"])),{},{searchHandle:function(){this.searchMyRoom(this.search)}})}),fe=ge,pe=(a("d005"),Object(o["a"])(fe,me,de,!1,null,"130bba4a",null)),he=pe.exports,ve=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"contact-item",on:{click:function(t){return e.$emit("select-room",e.room)}}},[a("div",{staticClass:"contact-image"},[1===e.room.type?a("b-avatar",{staticClass:"no-image",attrs:{badge:"","badge-variant":e.getPrivateStatus,"badge-offset":"2px",src:e.getPrivateImage}}):e._e(),2===e.room.type?a("b-avatar",{staticClass:"no-image",attrs:{variant:"info",text:e.getPrivateImage}}):e._e()],1),a("div",{staticClass:"name-description"},[a("h5",{staticClass:"mb-0 font-17"},[e._v(e._s(e.getPrivateName))]),e.room.messages.length>0?a("p",{staticClass:"mb-0 font-13 color-lb"},[e._v(" "+e._s(e.room.messages[e.room.messages.length-1].message.length>30?e.room.messages[e.room.messages.length-1].message.substr(0,30)+"...":e.room.messages[e.room.messages.length-1].message)+" ")]):a("p",{staticClass:"mb-0 font-13 color-lb"},[e._v("Click to send message")])]),a("div",{staticClass:"clock-check text-right ml-auto"},[e.room.messages.length>0?a("p",{staticClass:"mb-0 font-14 clock"},[e._v(" "+e._s(e.filterTime(e.room.messages[e.room.messages.length-1].time))+" ")]):e._e()])])},be=[],_e=(a("4de4"),a("1276"),{props:{room:Object},methods:{filterTime:function(e){var t=new Date(e),a=t.getMinutes(),s=t.getHours(),n="".concat(s<10?"0"+s:s,":").concat(a<10?"0"+a:a);return n}},computed:Object(g["a"])(Object(g["a"])({},Object(f["c"])("user",["getDetailUser"])),{},{getPrivateName:function(){var e=this;if(1===this.room.type){var t=this.room.members.filter((function(t){return t._id!==e.getDetailUser._id}));return t[0].name}return this.room.roomName},getPrivateStatus:function(){var e=this;if(1===this.room.type){var t=this.room.members.filter((function(t){return t._id!==e.getDetailUser._id})),a=t[0].statusOnline;return a?"warning":"danger"}return this.room.roomName},getPrivateImage:function(){var e=this;if(1===this.room.type){var t=this.room.members.filter((function(t){return t._id!==e.getDetailUser._id}));return t[0].image}var a=this.room.roomName.split(""),s=a[0].toUpperCase(),n=a[a.length-1].toUpperCase();return"".concat(s).concat(n)}})}),Ce=_e,ye=(a("c08b"),Object(o["a"])(Ce,ve,be,!1,null,"59c0b91c",null)),Pe=ye.exports,we=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"contact-item",attrs:{disabled:e.pending},on:{click:function(t){return e.$emit("select-room",e.room)}}},[a("div",{staticClass:"contact-image"},[e.getPrivateImage?a("b-avatar",{staticClass:"no-image",attrs:{src:e.getPrivateImage}}):e._e(),e.getPrivateImage?e._e():a("b-avatar",{staticClass:"no-image",attrs:{variant:"info"}})],1),a("div",{staticClass:"name-description"},[a("h5",{staticClass:"mb-0 font-17"},[e._v(e._s(e.getPrivateName))])]),a("div",{staticClass:"clock-check text-right ml-auto"},[e.pending||e.request||e.refuse?e._e():a("p",{staticClass:"mb-0 font-14 clock",class:["Online"===e.statusOnline?"text-success":"text-danger"]},[e._v(" "+e._s(e.statusOnline)+" ")]),e.pending?a("p",{staticClass:"mb-0 font-14 clock"},[e._v("Waiting")]):e._e(),e.refuse?a("p",{staticClass:"mb-0 font-14 clock text-danger"},[e._v("Rejected")]):e._e(),e.refuse?a("button",{staticClass:"btn btn-danger btn-sm",attrs:{type:"button"},on:{click:function(t){return e.handleDelete(e.room.sender)}}},[e._v(" Delete ")]):e._e(),a("div",[e.request?a("button",{staticClass:"mb-0 font-14 btn btn-lb btn-sm",on:{click:function(t){return e.handleAcc(e.room.sender)}}},[a("b-icon",{attrs:{icon:"check2"}})],1):e._e(),e.request?a("button",{staticClass:"mb-0 font-14 ml-2 btn btn-danger btn-sm",on:{click:function(t){return e.handleRefuse(e.room.sender)}}},[a("b-icon",{attrs:{icon:"x"}})],1):e._e()])])])},Oe=[],je={props:{room:Object,pending:Boolean,request:Boolean,refuse:Boolean},methods:Object(g["a"])(Object(g["a"])({},Object(f["b"])("friend",["accFriend","listFriend","listPendingFriend","refuseFriend","deleteFriend"])),{},{handleAcc:function(e){var t=this;this.accFriend(e).then((function(a){t.socket.emit("accFriend",{sender:t.getDetailUser._id,nameSender:t.getDetailUser.name,receiver:e}),t.$toast.success("Friendship accepted"),t.listFriend()})).catch((function(e){t.$toast.error(e.data.message)}))},handleRefuse:function(e){var t=this;this.refuseFriend(e).then((function(a){t.socket.emit("refuseFriend",{sender:t.getDetailUser._id,nameSender:t.getDetailUser.name,receiver:e}),t.$toast.success("Friend request denied"),t.listPendingFriend(),t.listFriend()})).catch((function(e){t.$toast.error(e.data.message)}))},handleDelete:function(e){var t=this;this.deleteFriend(e).then((function(a){t.socket.emit("handleDelete",{sender:t.getDetailUser._id,nameSender:t.getDetailUser.name,receiver:e}),t.$toast.success("Friend deleted successfully"),t.listPendingFriend(),t.listFriend()})).catch((function(e){t.$toast.error(e.data.message)}))}}),computed:Object(g["a"])(Object(g["a"])(Object(g["a"])({},Object(f["c"])("user",["getDetailUser"])),Object(f["d"])(["socket"])),{},{getPrivateName:function(){return this.room.idFriend.name},getPrivateImage:function(){return this.room.idFriend.image},statusOnline:function(){return!0===this.room.idFriend.statusOnline?"Online":"Offline"},getPrivateStatus:function(){var e=this;if(1===this.room.type){var t=this.room.members.filter((function(t){return t._id!==e.getDetailUser._id})),a=t[0].statusOnline;return a?"warning":"danger"}return this.room.roomName}})},Re=je,Me=(a("f13b"),Object(o["a"])(Re,we,Oe,!1,null,"49660bde",null)),ke=Me.exports,Fe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"contact-item",on:{click:function(t){return e.$emit("select-room",e.room)}}},[a("div",{staticClass:"contact-image"},[e.getPrivateImage?a("b-avatar",{staticClass:"no-image",attrs:{src:e.getPrivateImage}}):e._e(),e.getPrivateImage?e._e():a("b-avatar",{staticClass:"no-image",attrs:{variant:"info"}})],1),a("div",{staticClass:"name-description"},[a("h5",{staticClass:"mb-0 font-17"},[e._v(e._s(e.getPrivateName))])]),a("div",{staticClass:"clock-check ml-auto"},[a("button",{staticClass:"mb-0 font-14 btn btn-lb btn-sm",on:{click:function(t){return e.handleAddFriend(e.room._id)}}},[a("b-icon",{attrs:{icon:"person-plus-fill"}})],1)])])},Ue=[],Le={props:{room:Object},methods:Object(g["a"])(Object(g["a"])({},Object(f["b"])("friend",["addFriend"])),{},{handleAddFriend:function(e){var t=this;this.addFriend(e).then((function(a){t.socket.emit("sendFriend",{sender:t.getDetailUser._id,nameSender:t.getDetailUser.name,receiver:e}),t.$toast.success("Friend request sent")})).catch((function(e){t.$toast.error(e.data.message)}))}}),computed:Object(g["a"])(Object(g["a"])(Object(g["a"])(Object(g["a"])({},Object(f["d"])(["socket"])),Object(f["c"])("user",["getDetailUser"])),Object(f["c"])("friend",["getListFriend"])),{},{getPrivateName:function(){return this.room.name},getPrivateImage:function(){return this.room.image},checkFriend:function(){var e,t=this;return this.getListFriend.map((function(a){e=a.receiver===t.room._id?"Friend":"Not Friend"})),e}})},De=Le,xe=(a("8b0a"),Object(o["a"])(De,Fe,Ue,!1,null,"b5190730",null)),Ie=xe.exports,Ne=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"sidebar-title mt-4 mb-4 d-flex justify-content-between align-items-center"},[e.newTab?e._e():a("h5",{staticClass:"mb-0 color-lb"},[e._v("Mangga Chat")]),e.newTab?a("div",{staticClass:"bg-lb rounded-pill px-4"},[a("router-link",{staticClass:"btn mr-2",attrs:{to:{name:"Users"}}},[a("g-image",{attrs:{url:"icon/new_group.svg"}})],1),a("router-link",{staticClass:"btn mr-2",attrs:{to:{name:"Private"}}},[a("g-image",{attrs:{url:"icon/lock.svg"}})],1),a("button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"modal-room",expression:"'modal-room'"}],staticClass:"btn"},[a("g-image",{attrs:{url:"icon/new_channel.svg"}})],1)],1):e._e(),a("div",{staticClass:"btn-group"},[a("button",{staticClass:"btn p-0 no-focus",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[a("g-image",{staticClass:"mr-2 cursor-pointer",attrs:{url:"icon/menu.svg"}})],1),a("div",{staticClass:"dropdown-menu py-3 border-0 dropdown-menu-right"},[a("button",{staticClass:"dropdown-item d-flex justify-content-between",attrs:{type:"button"},on:{click:function(t){return e.$router.push({name:"Setting"})}}},[a("span",[e._v("Setting")]),a("g-image",{staticClass:"ml-5",attrs:{url:"icon/setting.svg"}})],1),a("router-link",{staticClass:"dropdown-item d-flex justify-content-between",attrs:{to:{name:"Friends"},type:"button"}},[a("span",[e._v("Friends")]),a("g-image",{staticClass:"ml-5",attrs:{url:"icon/contact.svg"}})],1),a("router-link",{staticClass:"dropdown-item d-flex justify-content-between",attrs:{to:{name:"Users"},type:"button"}},[a("span",[e._v("Find Friends")]),a("g-image",{staticClass:"ml-5",attrs:{url:"icon/invite.svg"}})],1),a("button",{staticClass:"dropdown-item d-flex justify-content-between",attrs:{type:"button"},on:{click:e.handleLogout}},[a("span",[e._v("Logout")])])],1)]),a("ModalRoom")],1)},Ee=[],Se=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-modal",{attrs:{id:"modal-room","hide-footer":"",title:"Create new group"}},[a("div",{staticClass:"form-group-auth"},[a("label",[e._v("Room Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text",name:"name"},domProps:{value:e.name},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleCreate(t)},input:function(t){t.target.composing||(e.name=t.target.value)}}})]),a("div",{staticClass:"modal-footer border-0"},[a("button",{staticClass:"btn btn-danger shadow-sm",attrs:{type:"button"},on:{click:function(t){return e.$bvModal.hide("modal-room")}}},[e._v("Close")]),a("g-button",{staticClass:"btn btn-lb shadow-sm",attrs:{isLoading:e.getLoading,type:"submit"},on:{"cus-click":e.handleCreate}},[e._v("Create")])],1)])},$e=[],Te={data:function(){return{name:""}},methods:Object(g["a"])(Object(g["a"])({},Object(f["b"])("room",["createPublicRoom","allMyRoom"])),{},{handleCreate:function(){var e=this;this.createPublicRoom(this.name).then((function(t){e.$toast.success("Room berhasil di buat"),e.$bvModal.hide("modal-room"),e.allMyRoom().then((function(t){var a=t.results.map((function(e){return e._id}));e.socket.emit("tesjoin",a)}))})).catch((function(t){e.$toast.error(t.data.message)}))}}),computed:Object(g["a"])(Object(g["a"])({},Object(f["d"])(["socket"])),Object(f["c"])(["getLoading"]))},Ae=Te,qe=Object(o["a"])(Ae,Se,$e,!1,null,"31f2b31e",null),Ge=qe.exports,Be={props:["newTab"],components:{ModalRoom:Ge},methods:{handleLogout:function(){this.logoutMixin(this.getDetailUser._id)}},computed:Object(f["c"])("user",["getDetailUser"])},He=Be,ze=(a("0a1e"),Object(o["a"])(He,Ne,Ee,!1,null,"5323ecf1",null)),Ve=ze.exports,We={components:{SearchSidebar:he,ContactItem:Pe,NavbarLeft:Ve,MenuList:ue,ContactFriend:ke,ContactUser:Ie},data:function(){return{newTab:!1}},methods:Object(g["a"])(Object(g["a"])(Object(g["a"])(Object(g["a"])({},Object(f["b"])("user",["selectPrivateMessage"])),Object(f["b"])("room",["saveMessageToDB","detailRoom","allMyRoom","findRoom","createPrivateRoom","detailRoomImage","detailRoomDocument"])),Object(f["b"])("friend",["listFriend","listUserNotFriend","listPendingFriend","listRequestFriend"])),{},{showNewTab:function(){this.newTab=!this.newTab},selectRoom:function(e){this.selectPrivateMessage(e),this.detailRoomImage(e._id),this.detailRoomDocument(e._id)},selectRoomFriends:function(e){var t=this;this.findRoom(e.idFriend._id).then((function(e){t.selectPrivateMessage(e.results)})).catch((function(a){"Room not found"===a.data.message?t.createPrivateRoom(e.idFriend._id).then((function(a){t.socket.emit("createPrivate",{sender:t.getDetailUser._id,nameSender:t.getDetailUser.name,receiver:e.idFriend._id}),t.allMyRoom().then((function(e){var a=e.results.map((function(e){return e._id}));t.socket.emit("tesjoin",a)}))})).catch((function(e){console.log(e)})):console.log(a.data.message)}))}}),computed:Object(g["a"])(Object(g["a"])(Object(g["a"])(Object(g["a"])(Object(g["a"])({},Object(f["d"])(["socket"])),Object(f["c"])("user",["getPrivateMessage","getDetailUser"])),Object(f["c"])("friend",["getListFriend","getListUserNotFriend","getListRequestFriend","getListPendingFriend","getListRefuseFriend"])),Object(f["c"])("room",["getAllMyRoom","getAllPrivateRoom","getAllGroupRoom"])),{},{currentRouteName:function(){return this.$route.name},listFilter:function(){return"Dashboard"===this.currentRouteName?this.getAllMyRoom:"Private"===this.currentRouteName?this.getAllPrivateRoom:"Group"===this.currentRouteName?this.getAllGroupRoom:"Friends"===this.currentRouteName?this.getListFriend:"Users"===this.currentRouteName?this.getListUserNotFriend:[]},pendingFriend:function(){return this.getListPendingFriend},requestFriend:function(){return this.getListRequestFriend},refuseFriend:function(){return this.getListRefuseFriend}})},Ye=We,Ke=(a("6ac8"),Object(o["a"])(Ye,se,ne,!1,null,"16b72031",null)),Qe=Ke.exports,Je=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-lg-8 col-md-7 bg-light p-0 right-chat max-vh-100 min-vh-100"},[a("ChatHeader",{on:{"mobile-iconx":function(t){return e.$emit("mobile-icon")}}}),a("div",{directives:[{name:"chat-scroll",rawName:"v-chat-scroll",value:{smooth:!0},expression:"{ smooth: true }"}],staticClass:"main-chat px-4 py-3 max-vh-100"},e._l(e.getPrivateMessage.messages,(function(t,s){return a("div",{key:s},[6!==t.type?a("ChatCard",{attrs:{message:t,iduser:e.getDetailUser._id,type:e.getPrivateMessage.type},on:{"detail-image":e.handleDetailImage}}):e._e(),6===t.type?a("div",{staticClass:"d-flex justify-content-center mb-2"},[a("p",{staticClass:"text-center text-white px-3 py-2 rounded bg-secondary font-12 mb-0 d-inline-block"},[e._v(" "+e._s(t.idUser.name)+" telah bergabung - "),a("timeago",{staticClass:"font-12",attrs:{datetime:t.time,"auto-update":60}})],1)]):e._e()],1)})),0),a("InputChat"),a("SidebarRight",{on:{"detail-image":e.handleDetailImage}}),a("ModalChat",{attrs:{image:e.deailImage}})],1)},Ze=[],Xe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-modal",{attrs:{id:"modal-chat",size:"lg","hide-footer":""}},[a("img",{staticClass:"img-fluid",attrs:{src:e.image}})])},et=[],tt={props:["image"]},at=tt,st=Object(o["a"])(at,Xe,et,!1,null,"e5324f3a",null),nt=st.exports,it=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"position-absolute emoji-card"},[e.showEmoji?a("VEmojiPicker",{on:{select:e.selectEmoji}}):e._e()],1),a("div",{staticClass:"card border-0 rounded-0 chat-input-card"},[a("div",{staticClass:"card-body position-relative"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.message,expression:"message"}],staticClass:"form-control input-chat font-14",attrs:{type:"text",placeholder:"Type your message..."},domProps:{value:e.message},on:{keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.send(t)},e.typing],input:function(t){t.target.composing||(e.message=t.target.value)}}}),a("div",{staticClass:"btn-group position-absolute icon-plus"},[a("button",{staticClass:"btn p-0 no-focus",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[a("g-image",{staticClass:"cursor-pointer icc-plus",attrs:{url:"icon/plus.svg"}})],1),a("div",{staticClass:"dropdown-menu py-3 border-0 dropdown-menu-right"},[a("button",{staticClass:"dropdown-item mb-2 d-flex justify-content-between",attrs:{type:"button"}},[a("b-form-file",{staticClass:"w-100",attrs:{size:"sm",state:Boolean(e.fileImage),placeholder:"Select image",accept:"image/*"},model:{value:e.fileImage,callback:function(t){e.fileImage=t},expression:"fileImage"}}),a("g-image",{staticClass:"ml-5",attrs:{url:"icon/image.png",width:"18"}})],1),a("button",{staticClass:"dropdown-item mb-2 d-flex justify-content-between",attrs:{type:"button"}},[a("b-form-file",{staticClass:"w-100",attrs:{size:"sm",state:Boolean(e.fileDoc),placeholder:"Select document",accept:".pdf, .txt, .docx, .excel"},model:{value:e.fileDoc,callback:function(t){e.fileDoc=t},expression:"fileDoc"}}),a("g-image",{staticClass:"ml-5",attrs:{url:"icon/documents.png",width:"18"}})],1),a("button",{staticClass:"dropdown-item mb-2 d-flex justify-content-between",attrs:{type:"button"}},[a("span",[e._v("Contacts")]),a("g-image",{staticClass:"ml-5",attrs:{url:"icon/contacts.png",width:"18"}})],1),a("button",{staticClass:"dropdown-item mb-2 d-flex justify-content-between",attrs:{type:"button"},on:{click:e.handleShareLoc}},[a("span",[e._v("Location")]),a("g-image",{staticClass:"ml-5",attrs:{url:"icon/location.png",width:"14"}})],1)])]),a("div",{on:{click:e.handleShowEmoji}},[a("g-image",{staticClass:"icon-sticker position-absolute cursor-pointer",attrs:{url:"icon/sticker.svg"}})],1),a("div",{on:{click:e.send}},[a("g-image",{staticClass:"icon-send position-absolute cursor-pointer",attrs:{url:"icon/send.svg"}})],1)])])])},ot=[],rt=a("79b5"),ct={data:function(){return{message:"",showEmoji:!1,fileImage:null,fileDoc:null}},components:{VEmojiPicker:rt["a"]},methods:Object(g["a"])(Object(g["a"])({},Object(f["b"])("room",["allMyRoom","detailRoom","saveMessageToDB"])),{},{handleShowEmoji:function(){this.showEmoji=!this.showEmoji},selectEmoji:function(e){this.message+=e.data},send:function(){this.fileImage?this.handleSendMessageImg():this.fileDoc?this.handleSendMessageDoc():this.handleSendMessage()},handleSendMessage:function(){""===this.message?this.$toast.error("Input tidak boleh kosong"):(this.socket.emit("sendMessage",{sendWhat:1,room:this.getPrivateMessage._id,type:this.getPrivateMessage.type,roomName:this.getPrivateMessage.roomName,name:this.getDetailUser.name,email:this.getDetailUser.email,senderId:this.getDetailUser._id,message:this.message}),this.message="",this.showEmoji=!1,this.socket.emit("typing",{sendWhat:1,room:this.getPrivateMessage._id,type:this.getPrivateMessage.type,roomName:this.getPrivateMessage.roomName,name:this.getDetailUser.name,email:this.getDetailUser.email,senderId:this.getDetailUser._id,message:""}))},handleSendMessageImg:function(){var e=this,t=new FormData;if(this.fileImage&&this.fileImage.size>2097152)return this.$toast.error("Max file size 2MB");t.append("image",this.fileImage),t.append("idUser",this.getDetailUser._id),t.append("message",this.message),t.append("whatFile","image"),this.saveMessageToDB({id:this.getPrivateMessage._id,message:t}).then((function(t){e.socket.emit("sendMessage",{sendWhat:3,room:e.getPrivateMessage._id,type:e.getPrivateMessage.type,roomName:e.getPrivateMessage.roomName,name:e.getDetailUser.name,email:e.getDetailUser.email,senderId:e.getDetailUser._id,message:e.message?e.message:"Send image"}),e.message="",e.fileImage=null,e.showEmoji=!1})).catch((function(t){e.message="",e.fileImage=null,e.showEmoji=!1,console.log(t)})),this.socket.emit("typing",{sendWhat:1,room:this.getPrivateMessage._id,type:this.getPrivateMessage.type,roomName:this.getPrivateMessage.roomName,name:this.getDetailUser.name,email:this.getDetailUser.email,senderId:this.getDetailUser._id,message:""})},handleSendMessageDoc:function(){var e=this,t=new FormData;if(this.fileDoc&&this.fileDoc.size>2097152)return this.$toast.error("Max file size 2MB");t.append("image",this.fileDoc),t.append("idUser",this.getDetailUser._id),t.append("message",this.message),t.append("whatFile","doc"),this.saveMessageToDB({id:this.getPrivateMessage._id,message:t}).then((function(t){e.socket.emit("sendMessage",{sendWhat:4,room:e.getPrivateMessage._id,type:e.getPrivateMessage.type,roomName:e.getPrivateMessage.roomName,name:e.getDetailUser.name,email:e.getDetailUser.email,senderId:e.getDetailUser._id,message:e.message?e.message:"Send Doc"}),e.message="",e.fileDoc=null,e.showEmoji=!1})).catch((function(t){e.message="",e.fileDoc=null,e.showEmoji=!1,console.log(t)})),this.socket.emit("typing",{sendWhat:1,room:this.getPrivateMessage._id,type:this.getPrivateMessage.type,roomName:this.getPrivateMessage.roomName,name:this.getDetailUser.name,email:this.getDetailUser.email,senderId:this.getDetailUser._id,message:""})},handleShareLoc:function(){var e=this;this.confirmSwal("Location","Share current location ?","question",(function(){e.socket.emit("sendMessage",{sendWhat:2,room:e.getPrivateMessage._id,type:e.getPrivateMessage.type,roomName:e.getPrivateMessage.roomName,name:e.getDetailUser.name,email:e.getDetailUser.email,senderId:e.getDetailUser._id,message:"Share location",location:e.getDetailUser.location})}))},typing:function(){this.socket.emit("typing",{sendWhat:1,room:this.getPrivateMessage._id,type:this.getPrivateMessage.type,roomName:this.getPrivateMessage.roomName,name:this.getDetailUser.name,email:this.getDetailUser.email,senderId:this.getDetailUser._id,message:this.message})}}),computed:Object(g["a"])(Object(g["a"])(Object(g["a"])({},Object(f["d"])(["socket"])),Object(f["c"])("user",["getPrivateMessage","getDetailUser"])),{},{checkDisabled:function(){return!!this.fileImage}})},lt=ct,ut=(a("6a46"),Object(o["a"])(lt,it,ot,!1,null,"28d4daec",null)),mt=ut.exports,dt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"neww",class:[e.message.idUser._id===e.iduser?"sender":"receiver"]},[a("div",{staticClass:"set"},[a("div",{staticClass:"contact-image"},[e.message.idUser.image?a("b-avatar",{staticClass:"no-image-avatar",attrs:{src:e.message.idUser.image}}):e._e(),e.message.idUser.image?e._e():a("b-avatar",{staticClass:"no-image-avatar",attrs:{variant:"info"}})],1),a("div",{staticClass:"message-text"},[e.message.idUser._id!==e.iduser&&2===e.type?a("span",{staticClass:"text-light mb-1 d-inline-block font-13"},[e._v(e._s(e.message.idUser.name))]):e._e(),a("div",{staticClass:"clearfix"}),a("p",{staticClass:"mb-0"},[e._v(e._s(e.message.message))]),e.message.location?a("div",{staticClass:"mt-1"},[a("GmapMap",{staticStyle:{width:"100%",height:"200px"},attrs:{center:{lat:e.message.location.lat,lng:e.message.location.lng},zoom:15,"map-type-id":"terrain"}})],1):e._e(),e.message.image?a("div",{staticClass:"mt-1"},[a("button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-chat",modifiers:{"modal-chat":!0}}],staticClass:"btn p-0",on:{click:function(t){return e.$emit("detail-image",e.message.image)}}},[a("img",{staticClass:"img-fluid rounded",attrs:{src:e.message.image}})])]):e._e(),e.message.document?a("div",{staticClass:"mt-1"},[a("a",{staticClass:"d-block btn btn-sm btn-primary font-13 my-2",attrs:{target:"_blank",href:e.message.document}},[e._v("Download "+e._s(e.message.documentName))])]):e._e(),a("timeago",{staticClass:"font-12",attrs:{datetime:e.message.time,"auto-update":60}}),a("small",{staticClass:"clock d-inline-block mt-1"},[e._v(e._s(e.filterTime(e.message.time)))])],1)])])},gt=[],ft={props:["message","iduser","type"],methods:{filterTime:function(e){var t=new Date(e),a=t.getMinutes(),s=t.getHours(),n="".concat(s<10?"0"+s:s,":").concat(a<10?"0"+a:a);return n}}},pt=ft,ht=(a("818f"),Object(o["a"])(pt,dt,gt,!1,null,"5b603d03",null)),vt=ht.exports,bt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"card border-0 rounded-0"},[a("div",{staticClass:"card-body d-flex justify-content-between align-items-center"},[a("div",{staticClass:"d-flex"},[a("button",{staticClass:"btn",attrs:{type:"button"},on:{click:function(t){return e.$emit("mobile-iconx")}}},[a("g-image",{staticClass:"back-icon",attrs:{url:"icon/back.svg"}})],1),1===e.getPrivateMessage.type?a("b-avatar",{staticClass:"no-image mr-2",attrs:{src:e.getPrivateImage}}):e._e(),2===e.getPrivateMessage.type?a("b-avatar",{staticClass:"no-image mr-2",attrs:{variant:"info",text:e.getPrivateImage}}):e._e(),a("div",{staticClass:"d-flex flex-column justify-content-around"},[a("p",{directives:[{name:"b-toggle",rawName:"v-b-toggle.sidebar-right",modifiers:{"sidebar-right":!0}}],staticClass:"mb-0 weight-500"},[e._v(" "+e._s(e.getPrivateName)+" ")]),e.message?a("p",{staticClass:"mb-0 font-12"},[e._v(e._s(e.typingMessage)+"...")]):e._e(),e.message?e._e():a("span",{staticClass:"color-lb font-12"},[e._v(e._s(e.statusOnline))])])],1),a("button",{staticClass:"btn"},[a("g-image",{staticClass:"img-fluid",attrs:{url:"icon/profile_menu.svg"}})],1)])])},_t=[],Ct={data:function(){return{typingMessage:"",message:""}},mounted:function(){var e=this;this.socket.on("typingNotif",(function(t){t.room===e.getPrivateMessage._id&&(e.typingMessage=t.notif,e.message=t.message)}))},computed:Object(g["a"])(Object(g["a"])(Object(g["a"])({},Object(f["d"])(["socket"])),Object(f["c"])("user",["getPrivateMessage","getDetailUser"])),{},{getPrivateName:function(){var e=this;if(1===this.getPrivateMessage.type){var t=this.getPrivateMessage.members.filter((function(t){return t._id!==e.getDetailUser._id}));return t[0].name}return this.getPrivateMessage.roomName},getPrivateImage:function(){var e=this;if(1===this.getPrivateMessage.type){var t=this.getPrivateMessage.members.filter((function(t){return t._id!==e.getDetailUser._id}));return t[0].image}var a=this.getPrivateMessage.roomName.split(""),s=a[0].toUpperCase(),n=a[a.length-1].toUpperCase();return"".concat(s).concat(n)},statusOnline:function(){var e=this;if(1===this.getPrivateMessage.type){var t=this.getPrivateMessage.members.filter((function(t){return t._id!==e.getDetailUser._id}));return t[0].statusOnline?"Online":"Offline"}return""}})},yt=Ct,Pt=(a("d15a"),Object(o["a"])(yt,bt,_t,!1,null,"896c6d16",null)),wt=Pt.exports,Ot=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-sidebar",{attrs:{id:"sidebar-right",right:"",shadow:""}},[a("h5",{staticClass:"mb-0 color-lb font-18 text-center mb-3"},[e._v(" "+e._s(e.getPrivateUsername)+" ")]),a("div",{staticClass:"px-3 py-2"},[a("div",{staticClass:"contact-image text-center"},[2===e.getPrivateMessage.type?a("b-avatar",{staticClass:"no-image-avatar",attrs:{variant:"info",text:e.getPrivateImage}}):e._e(),1!==e.getPrivateMessage.type||e.getPrivateImage?e._e():a("b-avatar",{staticClass:"no-image-avatar",attrs:{variant:"info"}}),1===e.getPrivateMessage.type&&e.getPrivateImage?a("b-avatar",{staticClass:"no-image-avatar",attrs:{src:e.getPrivateImage}}):e._e()],1),a("div",{staticClass:"border-bottom pb-3 mt-4"},[a("div",[a("p",{staticClass:"font-17 weight-500 mb-1"},[e._v(e._s(e.getPrivateName))]),a("p",{staticClass:"phone-number weight-400 mb-1 font-14"},[1===e.getPrivateMessage.type?a("span",[e._v("Online")]):e._e(),2===e.getPrivateMessage.type?a("span",[e._v("Group")]):e._e()])]),1===e.getPrivateMessage.type?a("div",{staticClass:"mt-4"},[a("p",{staticClass:"font-17 weight-500 mb-1"},[e._v("Phone Number")]),a("p",{staticClass:"phone-number weight-400 mb-1 font-14"},[e._v(" "+e._s(e.getPrivatePhone)+" ")])]):e._e()]),a("TabSidebarRight",{on:{"detail-imaged":e.handleImaged}})],1),a("ModalInvite")],1)},jt=[],Rt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mt-4 overflow-auto"},[a("b-tabs",{attrs:{pills:"","content-class":"mt-3"}},[1===e.getPrivateMessage.type?a("b-tab",{attrs:{title:"Location",active:""}},[a("GmapMap",{staticStyle:{width:"100%",height:"300px"},attrs:{center:{lat:e.getPrivateLocation?e.getPrivateLocation.lat:e.location.lat,lng:e.getPrivateLocation?e.getPrivateLocation.lng:e.location.lng},zoom:18,"map-type-id":"terrain"}})],1):e._e(),2===e.getPrivateMessage.type?a("b-tab",{attrs:{title:"Members"}},e._l(e.getPrivateMessage.members,(function(t,s){return a("div",{key:s,staticClass:"d-flex justify-content-between"},[a("p",[e._v(e._s(t.name))]),a("p",{staticClass:"font-14",class:[t.statusOnline?"text-success":"text-danger"]},[e._v(" "+e._s(t.statusOnline?"online":"offline")+" ")])])})),0):e._e(),a("b-tab",{attrs:{title:"Images"}},[a("div",{staticClass:"d-flex flex-wrap-reverse justify-content-center"},e._l(e.getAllImageRoom,(function(t){return a("div",{key:t._id},[a("div",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-chat",modifiers:{"modal-chat":!0}}],on:{click:function(a){return e.$emit("detail-imaged",t.image)}}},[a("b-avatar",{staticClass:"m-2",attrs:{rounded:"",src:t.image,size:"120px"}})],1)])})),0)]),a("b-tab",{attrs:{title:"Documents"}},[a("div",{staticClass:"d-flex flex-wrap-reverse"},e._l(e.getAllDocRoom,(function(t){return a("div",{key:t._id,staticClass:"w-100"},[a("a",{staticClass:"d-block btn btn-sm btn-dark btn-block mb-2 font-13",attrs:{target:"_blank",href:t.document}},[e._v("Download "+e._s(t.documentName))])])})),0)]),2===e.getPrivateMessage.type?a("b-tab",{attrs:{title:"Invite"}},[e.getListFriend.length<1?a("div",{staticClass:"text-center my-3"},[a("p",[e._v("Kamu tidak mempunyai teman!")]),a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(t){e.$router.push({name:"Users"}),e.$bvModal.hide("modal-invite")}}},[e._v(" Cari Teman ")])]):e._e(),e.getListFriend.length>0?a("div",e._l(e.getListFriend,(function(t){return a("div",{key:t._id,staticClass:"d-flex justify-content-between"},[a("p",[e._v(e._s(t.idFriend.name))]),a("div",[a("span",{staticClass:"cursor-pointer badge badge-primary",on:{click:function(a){return e.handleInvite(t)}}},[e._v("Invite")])])])})),0):e._e()]):e._e()],1)],1)},Mt=[],kt={methods:Object(g["a"])(Object(g["a"])(Object(g["a"])({},Object(f["b"])("friend",["listFriend"])),Object(f["b"])("room",["allMyRoom","inviteFriend"])),{},{handleInvite:function(e){var t=this;this.inviteFriend({id:this.getPrivateMessage._id,data:e.idFriend._id}).then((function(a){t.socket.emit("inviteFriend",{sender:t.getDetailUser._id,nameSender:t.getDetailUser.name,groupName:t.getPrivateMessage.roomName,room:t.getPrivateMessage._id,receiver:e.idFriend._id}),t.allMyRoom().then((function(e){var a=e.results.map((function(e){return e._id}));t.socket.emit("tesjoin",a)})),t.$toast.success("Friends have been successfully added to the group")})).catch((function(e){t.$toast.error(e.data.message)}))}}),mounted:function(){this.listFriend()},computed:Object(g["a"])(Object(g["a"])(Object(g["a"])(Object(g["a"])(Object(g["a"])(Object(g["a"])({},Object(f["c"])("user",["getPrivateMessage","getDetailUser"])),Object(f["c"])("room",["getAllImageRoom","getAllDocRoom"])),Object(f["d"])(["socket"])),Object(f["c"])(["getLoading"])),Object(f["c"])("friend",["getListFriend"])),{},{getPrivateUsername:function(){var e=this;if(1===this.getPrivateMessage.type){var t=this.getPrivateMessage.members.filter((function(t){return t._id!==e.getDetailUser._id}));return t[0].username?"@"+t[0].username:"No username yet"}return this.getPrivateMessage.roomName},getPrivatePhone:function(){var e=this;if(1===this.getPrivateMessage.type){var t=this.getPrivateMessage.members.filter((function(t){return t._id!==e.getDetailUser._id}));return t[0].username?t[0].phoneNumber:"No phone number yet"}return this.getPrivateMessage.roomName},getPrivateName:function(){var e=this;if(1===this.getPrivateMessage.type){var t=this.getPrivateMessage.members.filter((function(t){return t._id!==e.getDetailUser._id}));return t[0].name}return this.getPrivateMessage.roomName},getPrivateLocation:function(){var e=this;if(1===this.getPrivateMessage.type){var t=this.getPrivateMessage.members.filter((function(t){return t._id!==e.getDetailUser._id}));return t[0].location}return!0},getPrivateImage:function(){var e=this;if(1===this.getPrivateMessage.type){var t=this.getPrivateMessage.members.filter((function(t){return t._id!==e.getDetailUser._id}));return t[0].image}var a=this.getPrivateMessage.roomName.split(""),s=a[0].toUpperCase(),n=a[a.length-1].toUpperCase();return"".concat(s).concat(n)}})},Ft=kt,Ut=Object(o["a"])(Ft,Rt,Mt,!1,null,"3924e749",null),Lt=Ut.exports,Dt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-modal",{attrs:{id:"modal-invite","hide-footer":"",title:"Invite friend"}},[e.getListFriend.length<1?a("div",{staticClass:"text-center my-3"},[a("p",[e._v("Kamu tidak mempunyai teman!")]),a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(t){e.$router.push({name:"Users"}),e.$bvModal.hide("modal-invite")}}},[e._v(" Cari Teman ")])]):e._e(),e.getListFriend.length>0?a("b-list-group",e._l(e.getListFriend,(function(t){return a("b-list-group-item",{key:t._id},[a("div",{staticClass:"d-flex justify-content-between align-items-center"},[a("span",[e._v(e._s(t.idFriend.name))]),a("div",[a("span",{staticClass:"cursor-pointer badge badge-primary",on:{click:function(a){return e.handleInvite(t)}}},[e._v("Invite")])])])])})),1):e._e()],1)},xt=[],It={data:function(){return{name:""}},methods:Object(g["a"])(Object(g["a"])(Object(g["a"])({},Object(f["b"])("friend",["listFriend"])),Object(f["b"])("room",["allMyRoom","inviteFriend"])),{},{handleInvite:function(e){var t=this;this.inviteFriend({id:this.getPrivateMessage._id,data:e.idFriend._id}).then((function(a){t.socket.emit("inviteFriend",{sender:t.getDetailUser._id,nameSender:t.getDetailUser.name,groupName:t.getPrivateMessage.roomName,receiver:e.idFriend._id}),t.allMyRoom().then((function(e){var a=e.results.map((function(e){return e._id}));t.socket.emit("tesjoin",a)})),t.$toast.success("Friends have been successfully added to the group")})).catch((function(e){t.$toast.error(e.data.message)}))}}),mounted:function(){this.listFriend()},computed:Object(g["a"])(Object(g["a"])(Object(g["a"])(Object(g["a"])({},Object(f["d"])(["socket"])),Object(f["c"])(["getLoading"])),Object(f["c"])("friend",["getListFriend"])),Object(f["c"])("user",["getDetailUser","getPrivateMessage"]))},Nt=It,Et=Object(o["a"])(Nt,Dt,xt,!1,null,"c72ff93a",null),St=Et.exports,$t={data:function(){return{location:{lat:1,lng:1},deailImage:""}},components:{ModalInvite:St,TabSidebarRight:Lt},methods:{handleImaged:function(e){this.$emit("detail-image",e)}},mounted:function(){var e=this;this.$watchLocation({enableHighAccuracy:!0}).then((function(t){e.location.lat=t.lat,e.location.lng=t.lng}))},computed:Object(g["a"])(Object(g["a"])({},Object(f["c"])("user",["getPrivateMessage","getDetailUser"])),{},{getPrivateUsername:function(){var e=this;if(1===this.getPrivateMessage.type){var t=this.getPrivateMessage.members.filter((function(t){return t._id!==e.getDetailUser._id}));return t[0].username?"@"+t[0].username:"No username yet"}return this.getPrivateMessage.roomName},getPrivatePhone:function(){var e=this;if(1===this.getPrivateMessage.type){var t=this.getPrivateMessage.members.filter((function(t){return t._id!==e.getDetailUser._id}));return t[0].username?t[0].phoneNumber:"No phone number yet"}return this.getPrivateMessage.roomName},getPrivateName:function(){var e=this;if(1===this.getPrivateMessage.type){var t=this.getPrivateMessage.members.filter((function(t){return t._id!==e.getDetailUser._id}));return t[0].name}return this.getPrivateMessage.roomName},getPrivateLocation:function(){var e=this;if(1===this.getPrivateMessage.type){var t=this.getPrivateMessage.members.filter((function(t){return t._id!==e.getDetailUser._id}));return t[0].location}return!0},getPrivateImage:function(){var e=this;if(1===this.getPrivateMessage.type){var t=this.getPrivateMessage.members.filter((function(t){return t._id!==e.getDetailUser._id}));return t[0].image}var a=this.getPrivateMessage.roomName.split(""),s=a[0].toUpperCase(),n=a[a.length-1].toUpperCase();return"".concat(s).concat(n)}})},Tt=$t,At=(a("fb8b"),Object(o["a"])(Tt,Ot,jt,!1,null,"328e5e32",null)),qt=At.exports,Gt={components:{SidebarRight:qt,ChatHeader:wt,ChatCard:vt,InputChat:mt,ModalChat:nt},data:function(){return{deailImage:""}},methods:{handleDetailImage:function(e){this.deailImage=e}},computed:Object(g["a"])({},Object(f["c"])("user",["getPrivateMessage","getDetailUser"]))},Bt=Gt,Ht=(a("407a"),Object(o["a"])(Bt,Je,Ze,!1,null,"3a88cc68",null)),zt=Ht.exports,Vt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-lg-8 col-md-7 bg-light no-message content-message max-vh-100 min-vh-100"},[a("div",{staticClass:"text-center"},[a("p",{staticClass:"mb-1 font-weight-bold"},[e._v("Hallo "+e._s(e.getDetailUser.name))]),a("p",[e._v("Please select a chat to start messaging")])])])},Wt=[],Yt={computed:Object(f["c"])("user",["getDetailUser"])},Kt=Yt,Qt=(a("1f56"),Object(o["a"])(Kt,Vt,Wt,!1,null,"22be2b3a",null)),Jt=Qt.exports,Zt={components:{LeftSidebar:Qe,ChatEmpty:Jt,ChatSection:zt},data:function(){return{empty:!1}},methods:Object(g["a"])(Object(g["a"])({},Object(f["b"])("user",["clearPrivateMessage"])),{},{handleMobile:function(){this.clearPrivateMessage()}}),computed:Object(g["a"])(Object(g["a"])({},Object(f["c"])("user",["getPrivateMessage","getDetailUser"])),Object(f["c"])(["getLoading"]))},Xt=Zt,ea=(a("811c"),Object(o["a"])(Xt,te,ae,!1,null,"029c4b64",null)),ta=ea.exports,aa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-4 col-md-5 bg-white px-4 max-vh-100 overflow-auto"},[a("LeftProfile")],1),a("ChatEmpty")],1)])},sa=[],na=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"mt-4 mb-5 position-relative"},[a("span",{staticClass:"cursor-pointer",on:{click:function(t){return e.$router.push({name:"Dashboard"})}}},[a("g-image",{staticClass:"back-icon",attrs:{url:"icon/back.svg"}})],1),a("h5",{staticClass:"mb-0 color-lb font-18 text-center"},[e._v(e._s(e.getDetailUser.username?"@"+e.getDetailUser.username:"No username yet"))])]),a("div",{staticClass:"mt-4 mb-5 text-center"},[a("div",{staticClass:"contact-image"},[e.getDetailUser.image?e._e():a("b-avatar",{staticClass:"no-image-avatar",attrs:{variant:"info"}}),e.getDetailUser.image?a("b-avatar",{staticClass:"no-image-avatar",attrs:{src:e.getDetailUser.image}}):e._e()],1),a("g-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-profile",modifiers:{"modal-profile":!0}}],staticClass:"btn btn-lb px-4 rounded shadow-sm font-12 btn-update-profile"},[e._v("Update")]),a("h5",{staticClass:"mb-0 font-19 mt-1 color-23"},[e._v(e._s(e.getDetailUser.name))]),a("small",{staticClass:"text-muted"},[e._v(e._s(e.getDetailUser.username?"@"+e.getDetailUser.username:"No username yet"))])],1),a("div",{staticClass:"border-bottom"},[a("p",{staticClass:"font-18 weight-500 mb-2"},[e._v("Account")]),a("p",{staticClass:"phone-number weight-400 mb-1 font-15"},[e._v(e._s(e.getDetailUser.phoneNumber?e.getDetailUser.phoneNumber:"No phone number yet"))]),a("p",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-profile",modifiers:{"modal-profile":!0}}],staticClass:"font-15 color-lb cursor-pointer mb-0 pb-3"},[e._v("Tap to change phone number")])]),a("div",{staticClass:"border-bottom pt-3"},[a("p",{staticClass:"font-15 weight-500 mb-1"},[e._v(e._s(e.getDetailUser.username?"@"+e.getDetailUser.username:"No username yet"))]),a("p",{staticClass:"font-14 text-muted mb-0 pb-3"},[e._v("Username")])]),a("div",{staticClass:"pt-3 border-bottom"},[a("p",{staticClass:"font-15 weight-500 mb-1"},[e._v(e._s(e.getDetailUser.bio?e.getDetailUser.bio:"The bio is not set yet"))]),a("p",{staticClass:"font-14 text-muted mb-0 pb-3"},[e._v("Bio")])]),a("div",{staticClass:"mt-3 border-bottom pb-4 mb-4"},[a("p",{staticClass:"font-17 weight-500 mb-3"},[e._v("Location")]),a("GmapMap",{staticStyle:{width:"100%",height:"300px"},attrs:{center:{lat:e.getDetailUser.location?e.getDetailUser.location.lat:e.location.lat,lng:e.getDetailUser.location?e.getDetailUser.location.lng:e.location.lng},zoom:18,"map-type-id":"terrain"}})],1),a("div",{staticClass:"mb-5 mt-3"},[a("p",{staticClass:"font-18 weight-500 mb-3"},[e._v("Settings")]),a("router-link",{staticClass:"color-23 d-block mb-4 font-15 align-items-center d-flex",attrs:{to:""}},[a("g-image",{staticClass:"img-fluid mr-4",attrs:{url:"icon/union.svg"}}),a("span",[e._v("Notification and Sounds")])],1),a("router-link",{staticClass:"color-23 d-block mb-4 font-15 align-items-center d-flex",attrs:{to:""}},[a("g-image",{staticClass:"img-fluid mr-4",attrs:{url:"icon/lock_2.svg"}}),a("span",[e._v("Privaty and Security")])],1),a("router-link",{staticClass:"color-23 d-block mb-4 font-15 align-items-center d-flex",attrs:{to:""}},[a("g-image",{staticClass:"img-fluid mr-4",attrs:{url:"icon/usage.svg"}}),a("span",[e._v("Data and Stronge")])],1),a("router-link",{staticClass:"color-23 d-block mb-4 font-15 align-items-center d-flex",attrs:{to:""}},[a("g-image",{staticClass:"img-fluid mr-4",attrs:{url:"icon/chat.svg"}}),a("span",[e._v("Chat Settings")])],1),a("router-link",{staticClass:"color-23 d-block mb-4 font-15 align-items-center d-flex",attrs:{to:""}},[a("g-image",{staticClass:"img-fluid mr-4",attrs:{url:"icon/device.svg"}}),a("span",[e._v("Devices")])],1)],1),a("ModalProfile")],1)},ia=[],oa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-modal",{attrs:{id:"modal-profile","hide-footer":"",title:"Update Profile"}},[a("form",{on:{submit:function(t){return t.preventDefault(),e.handleUpdate(t)}}},[a("div",{staticClass:"form-group-auth"},[a("label",[e._v("Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text",name:"name"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})]),a("div",{staticClass:"form-group-auth"},[a("label",[e._v("Username")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"form-control",attrs:{type:"text",name:"username"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}})]),a("div",{staticClass:"form-group-auth"},[a("label",[e._v("Phone Number")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.phoneNumber,expression:"phoneNumber"}],staticClass:"form-control",attrs:{type:"text",name:"phoneNumber"},domProps:{value:e.phoneNumber},on:{input:function(t){t.target.composing||(e.phoneNumber=t.target.value)}}})]),a("div",{staticClass:"form-group-auth"},[a("label",[e._v("Bio")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.bio,expression:"bio"}],staticClass:"form-control",attrs:{type:"text",name:"bio"},domProps:{value:e.bio},on:{input:function(t){t.target.composing||(e.bio=t.target.value)}}})]),a("div",{staticClass:"form-group-auth"},[a("label",[e._v("Image")]),a("b-form-file",{staticClass:"mt-1",attrs:{state:Boolean(e.fileImage),placeholder:"Choose a file or drop it here...","drop-placeholder":"Drop file here...",accept:".jpg, .png, .jpeg"},model:{value:e.fileImage,callback:function(t){e.fileImage=t},expression:"fileImage"}})],1),e.getDetailUser.image?a("div",{staticClass:"form-group-auth"},[a("label",[e._v("Old Image")]),a("b-avatar",{staticClass:"d-block rounded-0 mt-2",attrs:{src:e.getDetailUser.image,size:"7rem"}})],1):e._e(),a("div",{staticClass:"modal-footer border-0"},[a("button",{staticClass:"btn btn-danger shadow-sm",attrs:{type:"button"},on:{click:function(t){return e.$bvModal.hide("modal-profile")}}},[e._v(" Close ")]),a("g-button",{staticClass:"btn btn-lb shadow-sm",attrs:{isLoading:e.getLoading,type:"submit"}},[e._v("Update")])],1)])])},ra=[],ca={data:function(){return{name:"",username:"",phoneNumber:"",bio:"",fileImage:null}},methods:Object(g["a"])(Object(g["a"])({},Object(f["b"])("user",["updateUser"])),{},{handleUpdate:function(){var e=this,t=new FormData;if(this.fileImage&&this.fileImage.size>2097152)return this.$toast.error("Max file size 2MB");t.append("image",this.fileImage),t.append("name",this.name),t.append("username",this.username),t.append("phoneNumber",this.phoneNumber),t.append("bio",this.bio),this.updateUser({id:this.getDetailUser._id,data:t}).then((function(t){e.$toast.success(t.message),e.$bvModal.hide("modal-profile")})).catch((function(t){e.$toast.error(t.data.message)}))}}),created:function(){this.name=this.getDetailUser.name,this.username=this.getDetailUser.username,this.phoneNumber=this.getDetailUser.phoneNumber,this.bio=this.getDetailUser.bio},computed:Object(g["a"])(Object(g["a"])({},Object(f["c"])("user",["getDetailUser"])),Object(f["c"])(["getLoading"]))},la=ca,ua=Object(o["a"])(la,oa,ra,!1,null,"31dcb719",null),ma=ua.exports,da={components:{ModalProfile:ma},data:function(){return{newTab:!1,location:{lat:1,lng:1}}},methods:Object(g["a"])(Object(g["a"])({},Object(f["b"])("user",["clearPrivateMessage","detailUser"])),{},{showNewTab:function(){this.newTab=!this.newTab}}),mounted:function(){var e=this;this.detailUser(),this.clearPrivateMessage(),this.$watchLocation({enableHighAccuracy:!0}).then((function(t){e.location.lat=t.lat,e.location.lng=t.lng}))},computed:Object(g["a"])({},Object(f["c"])("user",["getDetailUser"]))},ga=da,fa=(a("30fe"),Object(o["a"])(ga,na,ia,!1,null,"5ca48815",null)),pa=fa.exports,ha={components:{LeftProfile:pa,ChatEmpty:Jt},data:function(){return{empty:!0}}},va=ha,ba=(a("3390"),Object(o["a"])(va,aa,sa,!1,null,"72bae8a2",null)),_a=ba.exports,Ca=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container mt-5"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-9 mx-auto"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[e._v("Hello")]),a("div",{staticClass:"card-body"},[a("ul",{staticClass:"list-group"},[e.typing?a("li",{staticClass:"list-group-item"},[e._v(e._s(e.typing))]):e._e(),e._l(e.messages,(function(t,s){return a("li",{key:s,staticClass:"list-group-item"},[e._v(e._s(t.from)+" : "+e._s(t.message))])}))],2),a("div",{staticClass:"input-group mt-5 mb-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.message,expression:"message"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Recipient's username","aria-label":"Recipient's username","aria-describedby":"button-addon2"},domProps:{value:e.message},on:{keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleSendMessage(t)},e.typingx],input:function(t){t.target.composing||(e.message=t.target.value)}}}),a("div",{staticClass:"input-group-append"},[a("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button",id:"button-addon2"},on:{click:e.handleSendMessage}},[e._v("Button")])])])])])])])])},ya=[],Pa={data:function(){return{messages:[],message:"",email:"",room:"",typing:""}},methods:{handleSendMessage:function(){this.socket.emit("sendMessage",{room:this.room,from:this.email,message:this.message}),this.message=""},typingx:function(){this.socket.emit("typing",{room:this.room,from:this.email,message:this.message})}},mounted:function(){var e=this;this.$route.params.email||this.$router.push("/masuk"),this.email=this.$route.params.email,this.room=this.$route.params.room,this.socket.emit("welcomeMessage",{email:this.email,room:this.room}),this.socket.on("message",(function(t){e.messages.push(t)})),this.socket.on("notif",(function(t){e.messages.push(t)})),this.socket.on("sendMessage",(function(t){e.messages.push(t)})),this.socket.on("typingNotif",(function(t){e.typing=t.message}))},computed:Object(f["d"])(["socket"])},wa=Pa,Oa=Object(o["a"])(wa,Ca,ya,!1,null,"57dff490",null),ja=Oa.exports,Ra=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container mt-5"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-9 mx-auto"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[e._v("Hello")]),a("div",{staticClass:"card-body"},[a("form",{on:{submit:function(t){return t.preventDefault(),e.handleLogin(t)}}},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:""}},[e._v("Email")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"form-control",attrs:{type:"text",name:"email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:""}},[e._v("Room")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.room,expression:"room"}],staticClass:"form-control",attrs:{name:"room"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.room=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"",selected:"",disabled:""}},[e._v("Select Room")]),a("option",{attrs:{value:"room1"}},[e._v("Room1")]),a("option",{attrs:{value:"room2"}},[e._v("Room2")]),a("option",{attrs:{value:"room3"}},[e._v("Room3")]),a("option",{attrs:{value:"room4"}},[e._v("Room4")]),a("option",{attrs:{value:"room5"}},[e._v("Room5")])])]),a("button",{staticClass:"btn btn-primary btn-block mt-3",attrs:{type:"submit"}},[e._v("Login")])])])])])])])},Ma=[],ka={data:function(){return{email:"",room:""}},methods:{handleLogin:function(){this.$router.push({name:"Tes",params:{email:this.email,room:this.room}})}}},Fa=ka,Ua=Object(o["a"])(Fa,Ra,Ma,!1,null,"c894056e",null),La=Ua.exports,Da=a("8055"),xa=a.n(Da),Ia={isLoading:!1,socket:xa()("http://service-manggachat.fwdev.online")},Na={getLoading:function(e){return e.isLoading}},Ea={changeIsLoading:function(e,t){var a=e.commit;a("CHANGE_IS_LOADING",t)}},Sa={CHANGE_IS_LOADING:function(e,t){e.isLoading=t}},$a={state:Ia,getters:Na,actions:Ea,mutations:Sa},Ta=a("bc3a"),Aa=a.n(Ta),qa=Aa.a.create({baseURL:"http://service-manggachat.fwdev.online/api/v1"}),Ga=qa,Ba="auth",Ha={register:function(e){return Ga.post("".concat(Ba,"/register"),e)},login:function(e){return Ga.post("".concat(Ba,"/login"),e)},activateAccount:function(e){return Ga.post("".concat(Ba,"/activate-account"),e)},reqResetPassword:function(e){return Ga.post("".concat(Ba,"/req-reset-password"),e)},verifyResetPassword:function(e){return Ga.post("".concat(Ba,"/verify-reset-password"),e)},resetPassword:function(e){return Ga.post("".concat(Ba,"/reset-password"),e)}},za=function(){return{token:localStorage.getItem("token")||null}},Va={isLogin:function(e){return!!e.token}},Wa={login:function(e,t){var a=e.commit,s=e.dispatch;return s("changeIsLoading",!0,{root:!0}),new Promise((function(e,n){Ha.login(t).then((function(t){s("changeIsLoading",!1,{root:!0}),a("LOGIN_USER",t.data),e(t.data)})).catch((function(e){s("changeIsLoading",!1,{root:!0}),n(e.response)}))}))},register:function(e,t){var a=e.dispatch;return a("changeIsLoading",!0,{root:!0}),new Promise((function(e,s){Ha.register(t).then((function(t){a("changeIsLoading",!1,{root:!0}),e(t.data)})).catch((function(e){a("changeIsLoading",!1,{root:!0}),s(e.response)}))}))},forgotPassword:function(e,t){var a=e.dispatch;return a("changeIsLoading",!0,{root:!0}),new Promise((function(e,s){Ha.reqResetPassword(t).then((function(t){a("changeIsLoading",!1,{root:!0}),e(t.data)})).catch((function(e){a("changeIsLoading",!1,{root:!0}),s(e.response)}))}))},verifyResetPassword:function(e,t){var a=e.dispatch;return a("changeIsLoading",!0,{root:!0}),new Promise((function(e,s){Ha.verifyResetPassword(t).then((function(t){a("changeIsLoading",!1,{root:!0}),e(t.data)})).catch((function(e){a("changeIsLoading",!1,{root:!0}),s(e.response)}))}))},resetPassword:function(e,t){var a=e.dispatch;return a("changeIsLoading",!0,{root:!0}),new Promise((function(e,s){Ha.resetPassword(t).then((function(t){a("changeIsLoading",!1,{root:!0}),e(t.data)})).catch((function(e){a("changeIsLoading",!1,{root:!0}),s(e.response)}))}))},activateAccount:function(e,t){var a=e.dispatch;return a("changeIsLoading",!0,{root:!0}),new Promise((function(e,s){Ha.activateAccount(t).then((function(t){a("changeIsLoading",!1,{root:!0}),e(t.data)})).catch((function(e){a("changeIsLoading",!1,{root:!0}),s(e.response)}))}))},interceptorsRequest:function(e){var t=e.state;Ga.interceptors.request.use((function(e){return e.headers.Authorization="Bearer ".concat(t.token),e}),(function(e){return Promise.reject(e)}))},interceptorsResponse:function(e){e.state,e.rootState;var t=e.commit,a=e.dispatch;e.getters;Ga.interceptors.response.use((function(e){return e}),(function(e){var n=e.response.data,i=n.message,o=n.status_code;return"Token invalid"===i&&401===o?(t("LOGOUT_USER"),s["default"].$toast.error("Token invalid"),Cs.push({name:"Login"})):"Token expired"===i&&401===o&&(s["default"].$toast.error("Your session is expired, please login again"),a("logoutUser"),Cs.push({name:"Login"})),Promise.reject(e)}))},logoutUser:function(e){var t=e.commit,a=e.dispatch;t("LOGOUT_USER"),a("user/clearPrivateMessage",null,{root:!0}),a("changeIsLoading",!1,{root:!0})}},Ya={LOGIN_USER:function(e,t){var a=t.results.token;localStorage.setItem("token",a),e.token=a},LOGOUT_USER:function(e){localStorage.clear(),e.token=null}},Ka={namespaced:!0,state:za,getters:Va,actions:Wa,mutations:Ya},Qa="users",Ja={detail:function(){return Ga.get("".concat(Qa,"/myprofile"))},updateProfile:function(e,t){return Ga.patch("".concat(Qa,"/").concat(e),t)},listFriend:function(e){return Ga.get("".concat(Qa,"/friend-list?status=").concat(e))},userList:function(){return Ga.get("".concat(Qa,"/user-list"))},getAll:function(){return Ga.get("".concat(Qa))},updateLocation:function(e){return Ga.patch("".concat(Qa,"/update-location"),e)},updateStatusOnline:function(e){return Ga.patch("".concat(Qa,"/status-online"),e)}},Za={user:{},privateMessage:{},userList:[],listFriend:[]},Xa={getDetailUser:function(e){return e.user},getListUser:function(e){return e.userList},getPrivateMessage:function(e){return e.privateMessage},getListFriend:function(e){return e.listFriend}},es={updateUser:function(e,t){var a=e.dispatch,s=t.id,n=t.data;return a("changeIsLoading",!0,{root:!0}),new Promise((function(e,t){Ja.updateProfile(s,n).then((function(t){e(t.data),a("changeIsLoading",!1,{root:!0}),a("detailUser")})).catch((function(e){a("changeIsLoading",!1,{root:!0}),t(e.response)}))}))},updateLocation:function(e,t){var a=e.dispatch;return new Promise((function(e,s){Ja.updateLocation(t).then((function(t){e(t.data),a("detailUser")})).catch((function(e){s(e.response)}))}))},updateStatusOnline:function(e,t){e.dispatch;return new Promise((function(e,a){Ja.updateStatusOnline(t).then((function(t){e(t.data)})).catch((function(e){a(e.response)}))}))},detailUser:function(e){var t=e.commit;return new Promise((function(e,a){Ja.detail().then((function(a){e(a.data),t("GET_DETAIL_USER",a.data)})).catch((function(e){a(e.response)}))}))},listUser:function(e){var t=e.commit;return new Promise((function(e,a){Ja.userList().then((function(a){e(a.data),t("GET_LIST_USER",a.data)})).catch((function(e){a(e.response)}))}))},listFriend:function(e){var t=e.commit;return new Promise((function(e,a){Ja.listFriend("acc").then((function(a){e(a.data),t("GET_LIST_FRIEND",a.data)})).catch((function(e){a(e.response)}))}))},selectPrivateMessage:function(e,t){var a=e.commit;a("SELECT_PRIVATE_MESSAGE",t)},clearPrivateMessage:function(e){var t=e.commit;t("CLEAR_PRIVATE_MESSAGE")}},ts={GET_DETAIL_USER:function(e,t){e.user=t.results},GET_LIST_USER:function(e,t){e.userList=t.results},GET_LIST_FRIEND:function(e,t){e.listFriend=t.results},SELECT_PRIVATE_MESSAGE:function(e,t){e.privateMessage=t},CLEAR_PRIVATE_MESSAGE:function(e){e.privateMessage={}}},as={namespaced:!0,state:Za,getters:Xa,actions:es,mutations:ts},ss=(a("466d"),"rooms"),ns={allMyRoom:function(){return Ga.get("".concat(ss,"/my-room"))},detailRoom:function(e){return Ga.get("".concat(ss,"/").concat(e))},detailRoomImage:function(e){return Ga.get("".concat(ss,"/room-image/").concat(e))},detailRoomDocument:function(e){return Ga.get("".concat(ss,"/room-document/").concat(e))},findRoom:function(e){return Ga.get("".concat(ss,"/find-room/").concat(e))},createPrivateRoom:function(e){return Ga.post("".concat(ss,"/add-private-room"),{idFriend:e})},createPublicRoom:function(e){return Ga.post("".concat(ss,"/add-public-room"),{roomName:e})},sendMessage:function(e,t){return Ga.patch("".concat(ss,"/send-message/").concat(e),t)},inviteFriend:function(e,t){return Ga.patch("".concat(ss,"/invite-user/").concat(e),{idUser:t})}},is={allMyRoom:[],bcAllMyRoom:[],privateRoom:[],groupRoom:[],allImageInRoom:[],allDocInRoom:[]},os={getAllMyRoom:function(e){return e.allMyRoom},getAllPrivateRoom:function(e){return e.privateRoom},getAllGroupRoom:function(e){return e.groupRoom},getAllImageRoom:function(e){return e.allImageInRoom},getAllDocRoom:function(e){return e.allDocInRoom}},rs={allMyRoom:function(e){var t=e.commit,a=e.rootState;return new Promise((function(e,s){ns.allMyRoom().then((function(s){e(s.data);var n=a.user.user;t("ALL_MY_ROOM",{data:s.data,detailUser:n})})).catch((function(e){s(e.response)}))}))},searchMyRoom:function(e,t){var a=e.commit;a("SEARCH_MY_ROOM",t)},myPrivateRoom:function(e){var t=e.commit;return new Promise((function(e,a){ns.allMyRoom().then((function(a){e(a.data),t("MY_PRIVATE_ROOM",a.data)})).catch((function(e){a(e.response)}))}))},myGroupRoom:function(e){var t=e.commit;return new Promise((function(e,a){ns.allMyRoom().then((function(a){e(a.data),t("MY_GROUP_ROOM",a.data)})).catch((function(e){a(e.response)}))}))},createPrivateRoom:function(e,t){e.commit;var a=e.dispatch;return new Promise((function(e,s){ns.createPrivateRoom(t).then((function(t){e(t.data),a("allMyRoom")})).catch((function(e){s(e.response)}))}))},inviteFriend:function(e,t){e.commit;var a=e.dispatch,s=t.id,n=t.data;return new Promise((function(e,t){ns.inviteFriend(s,n).then((function(t){e(t.data),a("allMyRoom")})).catch((function(e){t(e.response)}))}))},createPublicRoom:function(e,t){e.commit,e.dispatch;return new Promise((function(e,a){ns.createPublicRoom(t).then((function(t){e(t.data)})).catch((function(e){a(e.response)}))}))},detailRoom:function(e,t){e.commit;return new Promise((function(e,a){ns.detailRoom(t).then((function(t){e(t.data)})).catch((function(e){a(e.response)}))}))},detailRoomImage:function(e,t){var a=e.commit;return new Promise((function(e,s){ns.detailRoomImage(t).then((function(t){e(t.data),a("ALL_IMAGE_IN_ROOM",t.data)})).catch((function(e){s(e.response)}))}))},detailRoomDocument:function(e,t){var a=e.commit;return new Promise((function(e,s){ns.detailRoomDocument(t).then((function(t){e(t.data),a("ALL_DOC_IN_ROOM",t.data)})).catch((function(e){s(e.response)}))}))},findRoom:function(e,t){e.commit;return new Promise((function(e,a){ns.findRoom(t).then((function(t){e(t.data)})).catch((function(e){a(e.response)}))}))},saveMessageToDB:function(e,t){e.commit;var a=e.dispatch,s=(e.rootState,e.state,t.id),n=t.message;return new Promise((function(e,t){ns.sendMessage(s,n).then((function(t){e(t.data),a("allMyRoom")})).catch((function(e){t(e.response)}))}))}},cs={ALL_MY_ROOM:function(e,t){var a=t.data.results.map((function(e){if(1===e.type){var a=e.members.filter((function(e){return e._id!==t.detailUser._id}));return Object(g["a"])(Object(g["a"])({},e),{},{roomName:a[0].name})}return e}));e.allMyRoom=a,e.bcAllMyRoom=a;var s=a.filter((function(e){return 1===e.type}));e.privateRoom=s;var n=a.filter((function(e){return 2===e.type}));e.groupRoom=n},MY_PRIVATE_ROOM:function(e,t){var a=t.results.filter((function(e){return 1===e.type}));e.privateRoom=a},MY_GROUP_ROOM:function(e,t){var a=t.results.filter((function(e){return 2===e.type}));e.groupRoom=a},SEARCH_MY_ROOM:function(e,t){var a=e.allMyRoom.filter((function(e){return e.roomName.toLowerCase().match(t.toLowerCase())}));e.allMyRoom=""===t?e.bcAllMyRoom:a},ALL_IMAGE_IN_ROOM:function(e,t){e.allImageInRoom=t.results[0].messages},ALL_DOC_IN_ROOM:function(e,t){e.allDocInRoom=t.results[0].messages}},ls={namespaced:!0,state:is,getters:os,actions:rs,mutations:cs},us=(a("c975"),"friends"),ms={get:function(e){return Ga.get("".concat(us,"/my-friend?status=").concat(e))},post:function(e){return Ga.post("".concat(us),{idFriend:e})},acc:function(e){return Ga.patch("".concat(us,"/acc-friend"),{idFriend:e})},deleteFriend:function(e){return Ga.delete("".concat(us,"/").concat(e))},refuse:function(e){return Ga.patch("".concat(us,"/refuse-friend"),{idFriend:e})}},ds={listFriend:[],listPendingFriend:[],listRequestFriend:[],listUserNotFriend:[],listRefuseFriend:[]},gs={getListFriend:function(e){return e.listFriend},getListPendingFriend:function(e){return e.listPendingFriend},getListRequestFriend:function(e){return e.listRequestFriend},getListUserNotFriend:function(e){return e.listUserNotFriend},getListRefuseFriend:function(e){return e.listRefuseFriend}},fs={addFriend:function(e,t){var a=e.dispatch;return a("changeIsLoading",!0,{root:!0}),new Promise((function(e,s){ms.post(t).then((function(t){e(t.data),a("changeIsLoading",!1,{root:!0})})).catch((function(e){a("changeIsLoading",!1,{root:!0}),s(e.response)}))}))},accFriend:function(e,t){var a=e.dispatch;return a("changeIsLoading",!0,{root:!0}),new Promise((function(e,s){ms.acc(t).then((function(t){e(t.data),a("changeIsLoading",!1,{root:!0}),a("listFriend"),a("listPendingFriend"),a("listRequestFriend"),a("listUserNotFriend"),a("listRefuseFriend")})).catch((function(e){a("changeIsLoading",!1,{root:!0}),s(e.response)}))}))},refuseFriend:function(e,t){var a=e.dispatch;return a("changeIsLoading",!0,{root:!0}),new Promise((function(e,s){ms.refuse(t).then((function(t){e(t.data),a("changeIsLoading",!1,{root:!0}),a("listFriend"),a("listPendingFriend"),a("listRequestFriend"),a("listUserNotFriend"),a("listRefuseFriend")})).catch((function(e){a("changeIsLoading",!1,{root:!0}),s(e.response)}))}))},deleteFriend:function(e,t){var a=e.dispatch;return a("changeIsLoading",!0,{root:!0}),new Promise((function(e,s){ms.deleteFriend(t).then((function(t){e(t.data),a("changeIsLoading",!1,{root:!0}),a("listFriend"),a("listPendingFriend"),a("listRequestFriend"),a("listUserNotFriend"),a("listRefuseFriend")})).catch((function(e){a("changeIsLoading",!1,{root:!0}),s(e.response)}))}))},listFriend:function(e){var t=e.commit;return new Promise((function(e,a){ms.get("acc").then((function(a){e(a.data),t("GET_LIST_FRIEND",a.data)})).catch((function(e){a(e.response)}))}))},listPendingFriend:function(e){var t=e.commit;return new Promise((function(e,a){ms.get("pending").then((function(a){e(a.data),t("GET_LIST_PENDING_FRIEND",a.data)})).catch((function(e){a(e.response)}))}))},listRefuseFriend:function(e){var t=e.commit;return new Promise((function(e,a){ms.get("refuse").then((function(a){e(a.data),t("GET_LIST_REFUSE_FRIEND",a.data)})).catch((function(e){a(e.response)}))}))},listRequestFriend:function(e){var t=e.commit;return new Promise((function(e,a){ms.get("request").then((function(a){e(a.data),t("GET_LIST_REQUEST_FRIEND",a.data)})).catch((function(e){a(e.response)}))}))},listUserNotFriend:function(e){var t=e.commit;return new Promise((function(e,a){Ja.getAll().then((function(a){e(a.data),t("GET_LIST_USER_NOT_FRIEND",a.data)})).catch((function(e){a(e.response)}))}))}},ps={GET_LIST_FRIEND:function(e,t){e.listFriend=t.results},GET_LIST_PENDING_FRIEND:function(e,t){e.listPendingFriend=t.results},GET_LIST_REQUEST_FRIEND:function(e,t){e.listRequestFriend=t.results},GET_LIST_REFUSE_FRIEND:function(e,t){e.listRefuseFriend=t.results},GET_LIST_USER_NOT_FRIEND:function(e,t){var a=e.listFriend.map((function(e){return e.idFriend._id})),s=t.results.filter((function(e){return this.indexOf(e._id)<0}),a);e.listUserNotFriend=s}},hs={namespaced:!0,state:ds,getters:gs,actions:fs,mutations:ps};s["default"].use(f["a"]);var vs=new f["a"].Store(Object(g["a"])(Object(g["a"])({},$a),{},{modules:{auth:Ka,user:as,room:ls,friend:hs}}));s["default"].use(u["a"]);var bs=[{path:"/",name:"Root",redirect:"/login"},{path:"/home",name:"Home",component:ee,meta:{requiresLogin:!0},redirect:{name:"Dashboard"},children:[{path:"dashboard",name:"Dashboard",component:ta},{path:"private",name:"Private",component:ta},{path:"group",name:"Group",component:ta},{path:"friends",name:"Friends",component:ta},{path:"users",name:"Users",component:ta},{path:"setting",name:"Setting",component:_a}]},{path:"/login",name:"Login",component:O,meta:{requiresVisit:!0}},{path:"/tes",name:"Tes",component:ja},{path:"/masuk",name:"Masuk",component:La},{path:"/register",name:"Register",component:U,meta:{requiresVisit:!0}},{path:"/forgot-password",name:"ForgotPassword",component:E,meta:{requiresVisit:!0}},{path:"/login/verify-account",name:"VerifyAccount",component:G,meta:{requiresVisit:!0}},{path:"/reset-password",name:"ResetPassword",component:Y,meta:{requiresVisit:!0}}],_s=new u["a"]({mode:"history",base:"/",routes:bs,scrollBehavior:function(e,t,a){return{x:0,y:0}}});_s.beforeEach((function(e,t,a){e.matched.some((function(e){return e.meta.requiresLogin}))?vs.getters["auth/isLogin"]?a():a({name:"Login"}):e.matched.some((function(e){return e.meta.requiresVisit}))&&vs.getters["auth/isLogin"]?a({name:"Home"}):a()}));var Cs=_s,ys=a("5f5b"),Ps=a("b1e0"),ws=a("755e"),Os=a("ebfd"),js=a.n(Os),Rs=a("8682"),Ms=a("b079"),ks=a.n(Ms),Fs={methods:{toast:function(e,t){var a=this,s=this.$swal.mixin({toast:!0,position:"bottom-start",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,onOpen:function(e){e.addEventListener("mouseenter",a.$swal.stopTimer),e.addEventListener("mouseleave",a.$swal.resumeTimer)}});s.fire({icon:e,title:t})},toastSuccess:function(e){var t=this,a=this.$swal.mixin({toast:!0,position:"bottom-start",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,onOpen:function(e){e.addEventListener("mouseenter",t.$swal.stopTimer),e.addEventListener("mouseleave",t.$swal.resumeTimer)}});a.fire({icon:"success",title:e})},toastError:function(e){var t=this,a=this.$swal.mixin({toast:!0,position:"bottom-start",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,onOpen:function(e){e.addEventListener("mouseenter",t.$swal.stopTimer),e.addEventListener("mouseleave",t.$swal.resumeTimer)}});a.fire({icon:"error",title:e})},confirmDelete:function(e,t){this.$swal({title:"Delete",text:"Are you sure want delete this ".concat(e," ?"),icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Delete"}).then((function(e){if(e.value)return t()}))},confirmSwal:function(e,t,a,s){this.$swal({title:e,text:t,icon:a,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes"}).then((function(e){if(e.value)return s()}))}}},Us={methods:Object(g["a"])(Object(g["a"])(Object(g["a"])({},Object(f["b"])("auth",["logoutUser"])),Object(f["b"])("user",["updateStatusOnline"])),{},{logoutMixin:function(e){var t=this;this.confirmSwal("Logout","Are you sure you want to log out ?","warning",(function(){t.updateStatusOnline({idUser:e,status:!1}),t.logoutUser(),t.$router.push({name:"Login"}),t.$toast.success("Logout success")}))}})},Ls=a("5886"),Ds=a("123d"),xs=a.n(Ds);a("4413"),a("4238"),a("4989"),a("f9e3"),a("2dd8"),a("6672");s["default"].component("g-image",(function(){return a.e("chunk-294bd464").then(a.bind(null,"0fe6"))})),s["default"].component("g-button",(function(){return a.e("chunk-2d21d044").then(a.bind(null,"d002"))})),s["default"].component("g-profile",(function(){return a.e("chunk-de3686b6").then(a.bind(null,"6eef"))})),s["default"].use(ks.a,{position:"top-right"}),s["default"].use(xs.a),s["default"].use(ys["a"]),s["default"].use(Ps["a"]),s["default"].use(Ls["a"]),s["default"].mixin(Fs),s["default"].mixin(Us),s["default"].use(Rs["a"],{name:"Timeago",locale:"en"}),s["default"].use(js.a),s["default"].use(ws,{load:{key:"AIzaSyCUrzejk5s857Sj8DuM6NRQ8CB9KZs2Itw"}}),s["default"].config.productionTip=!1,new s["default"]({router:Cs,store:vs,render:function(e){return e(l)}}).$mount("#app")},"5f05":function(e,t,a){},"64ad":function(e,t,a){},6672:function(e,t,a){},6914:function(e,t,a){},"6a46":function(e,t,a){"use strict";var s=a("5f05"),n=a.n(s);n.a},"6ac8":function(e,t,a){"use strict";var s=a("3826"),n=a.n(s);n.a},"811c":function(e,t,a){"use strict";var s=a("cd38"),n=a.n(s);n.a},"818f":function(e,t,a){"use strict";var s=a("9ac7"),n=a.n(s);n.a},"83c4":function(e,t,a){},"85e3":function(e,t,a){},"8b0a":function(e,t,a){"use strict";var s=a("3dd1"),n=a.n(s);n.a},"9ac7":function(e,t,a){},a830:function(e,t,a){},c08b:function(e,t,a){"use strict";var s=a("4758"),n=a.n(s);n.a},c0f6:function(e,t,a){},cd38:function(e,t,a){},d005:function(e,t,a){"use strict";var s=a("c0f6"),n=a.n(s);n.a},d15a:function(e,t,a){"use strict";var s=a("64ad"),n=a.n(s);n.a},f00b:function(e,t,a){},f13b:function(e,t,a){"use strict";var s=a("5162"),n=a.n(s);n.a},f420:function(e,t,a){},fb8b:function(e,t,a){"use strict";var s=a("85e3"),n=a.n(s);n.a}});
//# sourceMappingURL=app.1bb579d5.js.map